<section
  class="text-white bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-darkBlue-400 to-darkBlue-500"
>
  <!-- Response Feedback -->

  <p id="registerFeedback"></p>

  <!-- Go Back Button -->
  <a
    routerLink="/user/login"
    class="fixed z-50 w-5 h-5 left-12 top-20 cursor-pointer transition-all duration-500 ease-in-out scale-150 group"
    ><div
      class="md:w-9 md:h-9 w-6 h-6 rounded-full bg-darkBlue-400 flex items-center justify-center shadow-md"
    >
      <mat-icon
        class="md:scale-90 scale-[0.65] text-white group-hover:-translate-x-1 transition-all duration-500 ease-in-out"
        >keyboard_arrow_left</mat-icon
      >
    </div></a
  >
  <!--  -->
  <div class="h-screen w-screen p-5 flex flex-col justify-center items-center">
    <object
      class="md:w-36 w-24 m-4"
      data="assets/images/logo.svg"
      type="image/svg+xml"
    ></object>
    <form
      [formGroup]="registerForm"
      (ngSubmit)="register()"
      class="rounded-lg bg-darkBlue-500 md:py-20 md:px-12 py-10 px-8 shadow-2xl flex flex-col md:w-[580px] w-[280px] mt-10"
    >
      <p
        class="md:text-3xl text-xl mb-7 font-extrabold leading-9 bg-clip-text text-transparent bg-gradient-to-r from-slate-200/60 to-50% to-slate-200"
      >
        Sign up <span class="text-salmon font-strange">Now</span>
      </p>
      <div class="relative mb-4">
        <input
          type="text"
          id="name"
          name="name"
          placeholder="Name"
          formControlName="name"
          class="w-full bg-darkBlue-400 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 md:text-sm text-xs outline-none text-white py-1 px-3 !leading-8 transition-colors duration-200 ease-in-out"
        />
        <div
          class="mt-2"
          *ngIf="
            name.errors &&
            ((name.invalid && name.dirty) ||
              (name.invalid && isValidForm != null && !isValidForm))
          "
        >
          <div *ngIf="name.errors['required']">
            <small class="text-xs text-red-600">Username is required</small>
          </div>
          <div *ngIf="name.errors['minlength']">
            <small class="text-xs text-red-600"
              >Username must be greater than 5 characters</small
            >
          </div>
          <div *ngIf="name.errors['maxlength']">
            <small class="text-xs text-red-600"
              >Username must be lower than 25 characters</small
            >
          </div>
        </div>
      </div>

      <div class="relative mb-4 mt-4">
        <input
          type="email"
          id="email"
          name="email"
          placeholder="Email"
          formControlName="email"
          class="w-full bg-darkBlue-400 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 md:text-sm text-xs outline-none text-white py-1 px-3 !leading-8 transition-colors duration-200 ease-in-out"
        />
        <div
          class="mt-2"
          *ngIf="
            email.errors &&
            ((email.invalid && email.dirty) ||
              (email.invalid && isValidForm != null && !isValidForm))
          "
        >
          <div *ngIf="email.errors['required']">
            <small class="text-xs text-red-600">Email is required</small>
          </div>
          <div *ngIf="email.errors['pattern']">
            <small class="text-xs text-red-600"
              >Email address not well formed</small
            >
          </div>
        </div>
      </div>

      <div class="relative mb-4 mt-4">
        <input
          [type]="showPassword ? 'text' : 'password'"
          id="password"
          name="password"
          placeholder="Password"
          formControlName="password"
          class="w-full bg-darkBlue-400 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 md:text-sm text-xs outline-none text-white py-1 px-3 !leading-8 transition-colors duration-200 ease-in-out"
        />
        <!-- Show/Hide password -->
        <div
          *ngIf="password.value"
          class="absolute top-[7px] right-0 pr-3 flex items-center text-sm leading-5"
        >
          <mat-icon
            class="h-6 text-darkBlue-300 opacity-60 cursor-pointer"
            (click)="toogleShowHidePassword()"
            [ngClass]="{ '!hidden': showPassword, '!block': !showPassword }"
            >visibility</mat-icon
          >

          <mat-icon
            class="h-6 text-darkBlue-300 opacity-60 cursor-pointer"
            (click)="toogleShowHidePassword()"
            [ngClass]="{ '!block': showPassword, '!hidden': !showPassword }"
            >visibility_off</mat-icon
          >
        </div>
        <!---->
        <div
          class="mt-2"
          *ngIf="
            password.errors &&
            ((password.invalid && password.dirty) ||
              (password.invalid && isValidForm != null && !isValidForm))
          "
        >
          <div *ngIf="password.errors['required']">
            <small class="text-xs text-red-600">Password is required</small>
          </div>
          <div *ngIf="password.errors['pattern']">
            <small class="text-xs text-red-600"
              >Password must have eight characters, at least one uppercase
              letter, one lowercase letter and one number</small
            >
          </div>
        </div>
      </div>

      <div class="relative mb-4 mt-4">
        <input
          [type]="showPasswordConfirmation ? 'text' : 'password'"
          id="confirm-password"
          name="confirmPassword"
          placeholder="Confirm Password"
          formControlName="confirmPassword"
          class="w-full bg-darkBlue-400 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 md:text-sm text-xs outline-none text-white py-1 px-3 !leading-8 transition-colors duration-200 ease-in-out"
        />
        <!-- Show/Hide password -->
        <div
          *ngIf="this.confirmPassword.value"
          class="absolute top-[7px] right-0 pr-3 flex items-center text-sm leading-5"
        >
          <mat-icon
            class="h-6 text-darkBlue-300 opacity-60 cursor-pointer"
            (click)="toogleShowHidePasswordConfirmation()"
            [ngClass]="{
              '!hidden': showPasswordConfirmation,
              '!block': !showPasswordConfirmation
            }"
            >visibility</mat-icon
          >

          <mat-icon
            class="h-6 text-darkBlue-300 opacity-60 cursor-pointer"
            (click)="toogleShowHidePasswordConfirmation()"
            [ngClass]="{
              '!block': showPasswordConfirmation,
              '!hidden': !showPasswordConfirmation
            }"
            >visibility_off</mat-icon
          >
        </div>
        <!---->
        <div
          class="mt-2"
          *ngIf="
            confirmPassword.errors &&
            ((confirmPassword.invalid && confirmPassword.dirty) ||
              (confirmPassword.invalid && isValidForm != null && !isValidForm))
          "
        >
          <div *ngIf="confirmPassword.errors['required']">
            <small class="text-xs text-red-600"
              >Password confirmation is required</small
            >
          </div>
          <div *ngIf="confirmPassword.errors['mismatch']">
            <small class="text-xs text-red-600">Passwords must match</small>
          </div>
        </div>
      </div>
      <button
        type="submit"
        class="flex h-12 justify-center items-center bg-salmon border-0 py-2 px-8 focus:outline-none hover:bg-[rgba(255,255,255,0.9)] group rounded-lg mt-4 md:text-lg text-base"
      >
        <span
          *ngIf="!spinner"
          class="font-extrabold leading-9 bg-clip-text text-transparent bg-gradient-to-r from-slate-200/60 to-50% to-slate-200 group-hover:text-salmon"
          >Register</span
        ><app-spinner *ngIf="spinner" class="scale-[0.5]"></app-spinner>
      </button>
      <p class="md:text-sm text-xs text-darkBlue-300 mt-6">
        Already have an account?
        <a
          class="text-salmon hover:underline"
          [routerLink]="['/user/login']"
          rel="ugc"
          >Login</a
        >
      </p>
    </form>
  </div>
</section>
